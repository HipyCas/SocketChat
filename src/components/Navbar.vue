<template>
	<div
		class="fixed top-0 w-screen min-h-max flex flex-row flex-wrap bg-gray-100 p-2 items-center"
	>
		<img
			src="https://kaazi-ng.com/wp-content/uploads/2017/06/WebSocketGatewayLogo.png"
			alt="LOGO"
			class="h-10 w-10"
		/>
		<h1 class="hidden md:block text-md font-black ml-2 mr-3">SocketChat</h1>
		<Dropdown :arrow="true" :borders="true" class="mx-3 flex-grow">
			<template v-slot:button>
				<div class="flex flex-row items-center">
					<svg
						v-if="selectedRoom.name === 'World'"
						class="h-4 w-4 mr-2"
						enable-background="new 0 0 512 512"
						viewBox="0 0 512 512"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="m508.07 301c-21.2 120.05-125.82 211-252.07 211-5.04 0-10.04-.14-15-.44l-15-19.02v-56.54c0-16.54 13.46-30 30-30s30-13.46 30-30-13.46-30-30-30h-81.16l-13.2-57.21 13.27-4.14c12.62-3.93 21.09-15.45 21.09-28.65 0-16.54-13.46-30-30-30h-150.24l-11.83-15c1.8-10.23 4.22-20.24 7.2-30l11.81-15h143.06c16.54 0 30-13.46 30-30s-13.46-30-30-30-30-13.46-30-30c0-11.39-6.64-21.98-16.91-26.98l6.56-13.49c34.12-20.19 73.36-32.68 115.35-35.09l15 45.56c0 33.08 26.92 60 60 60 6.56 0 12.81 2.1 18.06 6.08l4.08 3.09 7.53 27.61-1.99 4.75c-4.67 11.22-15.54 18.47-27.68 18.47h-30c-16.54 0-30 13.46-30 30s13.46 30 30 30h30c16.54 0 30 13.46 30 30s13.46 30 30 30z"
							fill="#4bb9ec"
						/>
						<path
							d="m256 196v-150c0 33.08 26.92 60 60 60 6.56 0 12.81 2.1 18.06 6.08l4.08 3.09 7.53 27.61-1.99 4.75c-4.67 11.22-15.54 18.47-27.68 18.47h-30c-16.54 0-30 13.46-30 30z"
							fill="#0095ff"
						/>
						<path
							d="m508.07 301c-21.2 120.05-125.82 211-252.07 211v-106c16.54 0 30-13.46 30-30s-13.46-30-30-30v-150c0 16.54 13.46 30 30 30h30c16.54 0 30 13.46 30 30s13.46 30 30 30z"
							fill="#0095ff"
						/>
						<path
							d="m382.213 391h-36.213v-30h23.787l25.607-25.607 21.212 21.214z"
							fill="#8dbc42"
						/>
						<path d="m301 301h30v30h-30z" fill="#8dbc42" />
						<path
							d="m301 376c0 24.81-20.19 45-45 45-8.27 0-15 6.73-15 15v75.56c-134.015-7.712-241-118.433-241-255.56 0-14.923 1.274-29.887 3.93-45h162.07c24.81 0 45 20.19 45 45 0 20.16-13.32 37.26-31.62 42.97l7.39 32.03h69.23c24.81 0 45 20.19 45 45z"
							fill="#bce339"
						/>
						<path
							d="m301 376c0 24.81-20.19 45-45 45v-90c24.81 0 45 20.19 45 45z"
							fill="#8dbc42"
						/>
						<path
							d="m512 256c0 14.923-1.274 29.887-3.93 45h-132.07c-24.81 0-45-20.19-45-45 0-8.27-6.73-15-15-15h-15c-24.81 0-45-20.19-45-45s20.19-45 45-45h15c6.23 0 11.58-3.82 13.84-9.24l-4.83-17.72c-2.51-1.9-5.63-3.04-9.01-3.04-24.51 0-46.31-11.82-60-30.05-9.42-12.54-15-28.1-15-44.95v-45.56c4.96-.3 9.96-.44 15-.44 141.57 0 256 114.39 256 256z"
							fill="#bce339"
						/>
						<path
							d="m512 256c0 14.923-1.274 29.887-3.93 45h-132.07c-24.81 0-45-20.19-45-45 0-8.27-6.73-15-15-15h-15c-24.81 0-45-20.19-45-45s20.19-45 45-45h15c6.23 0 11.58-3.82 13.84-9.24l-4.83-17.72c-2.51-1.9-5.63-3.04-9.01-3.04-24.51 0-46.31-11.82-60-30.05v-90.95c141.57 0 256 114.39 256 256z"
							fill="#8dbc42"
						/>
						<path
							d="m211 136c0 24.81-20.19 45-45 45h-154.87c17.872-58.843 57.785-111.877 114.52-145.47 15.32 7.45 25.35 23.23 25.35 40.47 0 8.27 6.73 15 15 15 24.81 0 45 20.19 45 45z"
							fill="#bce339"
						/>
					</svg>
					<svg
						v-if="selectedRoom.name === 'Spain'"
						class="h-4 w-4 mr-2"
						version="1.1"
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						viewBox="0 0 512 512"
						enable-background="new 0 0 512 512"
						xml:space="preserve"
					>
						<path
							style="fill: #ffda44"
							d="M0,256c0,31.314,5.633,61.31,15.923,89.043L256,367.304l240.077-22.261  C506.367,317.31,512,287.314,512,256s-5.633-61.31-15.923-89.043L256,144.696L15.923,166.957C5.633,194.69,0,224.686,0,256z"
						/>
						<g>
							<path
								style="fill: #d80027"
								d="M496.077,166.957C459.906,69.473,366.071,0,256,0S52.094,69.473,15.923,166.957H496.077z"
							/>
							<path
								style="fill: #d80027"
								d="M15.923,345.043C52.094,442.527,145.929,512,256,512s203.906-69.473,240.077-166.957H15.923z"
							/>
						</g>
					</svg>
					<svg
						v-if="selectedRoom.name === 'UK'"
						class="h-4 w-4 mr-2"
						version="1.1"
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						viewBox="0 0 512 512"
						style="enable-background: new 0 0 512 512"
					>
						<circle style="fill: #f0f0f0" cx="256" cy="256" r="256" />
						<g>
							<path
								style="fill: #0052b4"
								d="M52.92,100.142c-20.109,26.163-35.272,56.318-44.101,89.077h133.178L52.92,100.142z"
							/>
							<path
								style="fill: #0052b4"
								d="M503.181,189.219c-8.829-32.758-23.993-62.913-44.101-89.076l-89.075,89.076H503.181z"
							/>
							<path
								style="fill: #0052b4"
								d="M8.819,322.784c8.83,32.758,23.993,62.913,44.101,89.075l89.074-89.075L8.819,322.784L8.819,322.784
                z"
							/>
							<path
								style="fill: #0052b4"
								d="M411.858,52.921c-26.163-20.109-56.317-35.272-89.076-44.102v133.177L411.858,52.921z"
							/>
							<path
								style="fill: #0052b4"
								d="M100.142,459.079c26.163,20.109,56.318,35.272,89.076,44.102V370.005L100.142,459.079z"
							/>
							<path
								style="fill: #0052b4"
								d="M189.217,8.819c-32.758,8.83-62.913,23.993-89.075,44.101l89.075,89.075V8.819z"
							/>
							<path
								style="fill: #0052b4"
								d="M322.783,503.181c32.758-8.83,62.913-23.993,89.075-44.101l-89.075-89.075V503.181z"
							/>
							<path
								style="fill: #0052b4"
								d="M370.005,322.784l89.075,89.076c20.108-26.162,35.272-56.318,44.101-89.076H370.005z"
							/>
						</g>
						<g>
							<path
								style="fill: #d80027"
								d="M509.833,222.609h-220.44h-0.001V2.167C278.461,0.744,267.317,0,256,0
                c-11.319,0-22.461,0.744-33.391,2.167v220.44v0.001H2.167C0.744,233.539,0,244.683,0,256c0,11.319,0.744,22.461,2.167,33.391
                h220.44h0.001v220.442C233.539,511.256,244.681,512,256,512c11.317,0,22.461-0.743,33.391-2.167v-220.44v-0.001h220.442
                C511.256,278.461,512,267.319,512,256C512,244.683,511.256,233.539,509.833,222.609z"
							/>
							<path
								style="fill: #d80027"
								d="M322.783,322.784L322.783,322.784L437.019,437.02c5.254-5.252,10.266-10.743,15.048-16.435
                l-97.802-97.802h-31.482V322.784z"
							/>
							<path
								style="fill: #d80027"
								d="M189.217,322.784h-0.002L74.98,437.019c5.252,5.254,10.743,10.266,16.435,15.048l97.802-97.804
                V322.784z"
							/>
							<path
								style="fill: #d80027"
								d="M189.217,189.219v-0.002L74.981,74.98c-5.254,5.252-10.266,10.743-15.048,16.435l97.803,97.803
                H189.217z"
							/>
							<path
								style="fill: #d80027"
								d="M322.783,189.219L322.783,189.219L437.02,74.981c-5.252-5.254-10.743-10.266-16.435-15.047
                l-97.802,97.803V189.219z"
							/>
						</g>
					</svg>
					{{ selectedRoom.name }} room
				</div>
			</template>
			<template v-slot:content>
				<!-- Search box -->
				<div class="mb-2">
					<input
						class="focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 focus:outline-none border rounded w-full p-2"
						placeholder="Search..."
						v-model="searchRegex"
						autofocus
					/>
				</div>
				<!-- Room list -->
				<button
					v-if="searchRegex === ''"
					v-for="room in rooms"
					:key="room.name"
					@click="changeRoom(room)"
					class="flex flex-row items-center w-full hover:bg-blue-400 rounded"
				>
					<svg
						v-if="room.name === 'World'"
						class="h-4 w-4 mr-2 ml-2 my-2"
						enable-background="new 0 0 512 512"
						viewBox="0 0 512 512"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="m508.07 301c-21.2 120.05-125.82 211-252.07 211-5.04 0-10.04-.14-15-.44l-15-19.02v-56.54c0-16.54 13.46-30 30-30s30-13.46 30-30-13.46-30-30-30h-81.16l-13.2-57.21 13.27-4.14c12.62-3.93 21.09-15.45 21.09-28.65 0-16.54-13.46-30-30-30h-150.24l-11.83-15c1.8-10.23 4.22-20.24 7.2-30l11.81-15h143.06c16.54 0 30-13.46 30-30s-13.46-30-30-30-30-13.46-30-30c0-11.39-6.64-21.98-16.91-26.98l6.56-13.49c34.12-20.19 73.36-32.68 115.35-35.09l15 45.56c0 33.08 26.92 60 60 60 6.56 0 12.81 2.1 18.06 6.08l4.08 3.09 7.53 27.61-1.99 4.75c-4.67 11.22-15.54 18.47-27.68 18.47h-30c-16.54 0-30 13.46-30 30s13.46 30 30 30h30c16.54 0 30 13.46 30 30s13.46 30 30 30z"
							fill="#4bb9ec"
						/>
						<path
							d="m256 196v-150c0 33.08 26.92 60 60 60 6.56 0 12.81 2.1 18.06 6.08l4.08 3.09 7.53 27.61-1.99 4.75c-4.67 11.22-15.54 18.47-27.68 18.47h-30c-16.54 0-30 13.46-30 30z"
							fill="#0095ff"
						/>
						<path
							d="m508.07 301c-21.2 120.05-125.82 211-252.07 211v-106c16.54 0 30-13.46 30-30s-13.46-30-30-30v-150c0 16.54 13.46 30 30 30h30c16.54 0 30 13.46 30 30s13.46 30 30 30z"
							fill="#0095ff"
						/>
						<path
							d="m382.213 391h-36.213v-30h23.787l25.607-25.607 21.212 21.214z"
							fill="#8dbc42"
						/>
						<path d="m301 301h30v30h-30z" fill="#8dbc42" />
						<path
							d="m301 376c0 24.81-20.19 45-45 45-8.27 0-15 6.73-15 15v75.56c-134.015-7.712-241-118.433-241-255.56 0-14.923 1.274-29.887 3.93-45h162.07c24.81 0 45 20.19 45 45 0 20.16-13.32 37.26-31.62 42.97l7.39 32.03h69.23c24.81 0 45 20.19 45 45z"
							fill="#bce339"
						/>
						<path
							d="m301 376c0 24.81-20.19 45-45 45v-90c24.81 0 45 20.19 45 45z"
							fill="#8dbc42"
						/>
						<path
							d="m512 256c0 14.923-1.274 29.887-3.93 45h-132.07c-24.81 0-45-20.19-45-45 0-8.27-6.73-15-15-15h-15c-24.81 0-45-20.19-45-45s20.19-45 45-45h15c6.23 0 11.58-3.82 13.84-9.24l-4.83-17.72c-2.51-1.9-5.63-3.04-9.01-3.04-24.51 0-46.31-11.82-60-30.05-9.42-12.54-15-28.1-15-44.95v-45.56c4.96-.3 9.96-.44 15-.44 141.57 0 256 114.39 256 256z"
							fill="#bce339"
						/>
						<path
							d="m512 256c0 14.923-1.274 29.887-3.93 45h-132.07c-24.81 0-45-20.19-45-45 0-8.27-6.73-15-15-15h-15c-24.81 0-45-20.19-45-45s20.19-45 45-45h15c6.23 0 11.58-3.82 13.84-9.24l-4.83-17.72c-2.51-1.9-5.63-3.04-9.01-3.04-24.51 0-46.31-11.82-60-30.05v-90.95c141.57 0 256 114.39 256 256z"
							fill="#8dbc42"
						/>
						<path
							d="m211 136c0 24.81-20.19 45-45 45h-154.87c17.872-58.843 57.785-111.877 114.52-145.47 15.32 7.45 25.35 23.23 25.35 40.47 0 8.27 6.73 15 15 15 24.81 0 45 20.19 45 45z"
							fill="#bce339"
						/>
					</svg>
					<svg
						v-if="room.name === 'Spain'"
						class="h-4 w-4 mr-2 ml-2 my-2"
						version="1.1"
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						viewBox="0 0 512 512"
						enable-background="new 0 0 512 512"
						xml:space="preserve"
					>
						<path
							style="fill: #ffda44"
							d="M0,256c0,31.314,5.633,61.31,15.923,89.043L256,367.304l240.077-22.261  C506.367,317.31,512,287.314,512,256s-5.633-61.31-15.923-89.043L256,144.696L15.923,166.957C5.633,194.69,0,224.686,0,256z"
						/>
						<g>
							<path
								style="fill: #d80027"
								d="M496.077,166.957C459.906,69.473,366.071,0,256,0S52.094,69.473,15.923,166.957H496.077z"
							/>
							<path
								style="fill: #d80027"
								d="M15.923,345.043C52.094,442.527,145.929,512,256,512s203.906-69.473,240.077-166.957H15.923z"
							/>
						</g>
					</svg>
					<svg
						v-if="room.name === 'UK'"
						class="h-4 w-4 mr-2 ml-2 my-2"
						version="1.1"
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						viewBox="0 0 512 512"
						style="enable-background: new 0 0 512 512"
					>
						<circle style="fill: #f0f0f0" cx="256" cy="256" r="256" />
						<g>
							<path
								style="fill: #0052b4"
								d="M52.92,100.142c-20.109,26.163-35.272,56.318-44.101,89.077h133.178L52.92,100.142z"
							/>
							<path
								style="fill: #0052b4"
								d="M503.181,189.219c-8.829-32.758-23.993-62.913-44.101-89.076l-89.075,89.076H503.181z"
							/>
							<path
								style="fill: #0052b4"
								d="M8.819,322.784c8.83,32.758,23.993,62.913,44.101,89.075l89.074-89.075L8.819,322.784L8.819,322.784
                z"
							/>
							<path
								style="fill: #0052b4"
								d="M411.858,52.921c-26.163-20.109-56.317-35.272-89.076-44.102v133.177L411.858,52.921z"
							/>
							<path
								style="fill: #0052b4"
								d="M100.142,459.079c26.163,20.109,56.318,35.272,89.076,44.102V370.005L100.142,459.079z"
							/>
							<path
								style="fill: #0052b4"
								d="M189.217,8.819c-32.758,8.83-62.913,23.993-89.075,44.101l89.075,89.075V8.819z"
							/>
							<path
								style="fill: #0052b4"
								d="M322.783,503.181c32.758-8.83,62.913-23.993,89.075-44.101l-89.075-89.075V503.181z"
							/>
							<path
								style="fill: #0052b4"
								d="M370.005,322.784l89.075,89.076c20.108-26.162,35.272-56.318,44.101-89.076H370.005z"
							/>
						</g>
						<g>
							<path
								style="fill: #d80027"
								d="M509.833,222.609h-220.44h-0.001V2.167C278.461,0.744,267.317,0,256,0
                c-11.319,0-22.461,0.744-33.391,2.167v220.44v0.001H2.167C0.744,233.539,0,244.683,0,256c0,11.319,0.744,22.461,2.167,33.391
                h220.44h0.001v220.442C233.539,511.256,244.681,512,256,512c11.317,0,22.461-0.743,33.391-2.167v-220.44v-0.001h220.442
                C511.256,278.461,512,267.319,512,256C512,244.683,511.256,233.539,509.833,222.609z"
							/>
							<path
								style="fill: #d80027"
								d="M322.783,322.784L322.783,322.784L437.019,437.02c5.254-5.252,10.266-10.743,15.048-16.435
                l-97.802-97.802h-31.482V322.784z"
							/>
							<path
								style="fill: #d80027"
								d="M189.217,322.784h-0.002L74.98,437.019c5.252,5.254,10.743,10.266,16.435,15.048l97.802-97.804
                V322.784z"
							/>
							<path
								style="fill: #d80027"
								d="M189.217,189.219v-0.002L74.981,74.98c-5.254,5.252-10.266,10.743-15.048,16.435l97.803,97.803
                H189.217z"
							/>
							<path
								style="fill: #d80027"
								d="M322.783,189.219L322.783,189.219L437.02,74.981c-5.252-5.254-10.743-10.266-16.435-15.047
                l-97.802,97.803V189.219z"
							/>
						</g>
					</svg>
					{{ room.name }} room
				</button>
				<!-- Filtered room list -->
				<button
					v-if="searchRegex !== ''"
					v-for="room in filteredRooms"
					:key="room.name"
					@click="changeRoom(room)"
					class="flex flex-row items-center w-full hover:bg-blue-400 rounded"
				>
					<svg
						v-if="room.name === 'World'"
						class="h-4 w-4 mr-2 ml-2 my-2"
						enable-background="new 0 0 512 512"
						viewBox="0 0 512 512"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="m508.07 301c-21.2 120.05-125.82 211-252.07 211-5.04 0-10.04-.14-15-.44l-15-19.02v-56.54c0-16.54 13.46-30 30-30s30-13.46 30-30-13.46-30-30-30h-81.16l-13.2-57.21 13.27-4.14c12.62-3.93 21.09-15.45 21.09-28.65 0-16.54-13.46-30-30-30h-150.24l-11.83-15c1.8-10.23 4.22-20.24 7.2-30l11.81-15h143.06c16.54 0 30-13.46 30-30s-13.46-30-30-30-30-13.46-30-30c0-11.39-6.64-21.98-16.91-26.98l6.56-13.49c34.12-20.19 73.36-32.68 115.35-35.09l15 45.56c0 33.08 26.92 60 60 60 6.56 0 12.81 2.1 18.06 6.08l4.08 3.09 7.53 27.61-1.99 4.75c-4.67 11.22-15.54 18.47-27.68 18.47h-30c-16.54 0-30 13.46-30 30s13.46 30 30 30h30c16.54 0 30 13.46 30 30s13.46 30 30 30z"
							fill="#4bb9ec"
						/>
						<path
							d="m256 196v-150c0 33.08 26.92 60 60 60 6.56 0 12.81 2.1 18.06 6.08l4.08 3.09 7.53 27.61-1.99 4.75c-4.67 11.22-15.54 18.47-27.68 18.47h-30c-16.54 0-30 13.46-30 30z"
							fill="#0095ff"
						/>
						<path
							d="m508.07 301c-21.2 120.05-125.82 211-252.07 211v-106c16.54 0 30-13.46 30-30s-13.46-30-30-30v-150c0 16.54 13.46 30 30 30h30c16.54 0 30 13.46 30 30s13.46 30 30 30z"
							fill="#0095ff"
						/>
						<path
							d="m382.213 391h-36.213v-30h23.787l25.607-25.607 21.212 21.214z"
							fill="#8dbc42"
						/>
						<path d="m301 301h30v30h-30z" fill="#8dbc42" />
						<path
							d="m301 376c0 24.81-20.19 45-45 45-8.27 0-15 6.73-15 15v75.56c-134.015-7.712-241-118.433-241-255.56 0-14.923 1.274-29.887 3.93-45h162.07c24.81 0 45 20.19 45 45 0 20.16-13.32 37.26-31.62 42.97l7.39 32.03h69.23c24.81 0 45 20.19 45 45z"
							fill="#bce339"
						/>
						<path
							d="m301 376c0 24.81-20.19 45-45 45v-90c24.81 0 45 20.19 45 45z"
							fill="#8dbc42"
						/>
						<path
							d="m512 256c0 14.923-1.274 29.887-3.93 45h-132.07c-24.81 0-45-20.19-45-45 0-8.27-6.73-15-15-15h-15c-24.81 0-45-20.19-45-45s20.19-45 45-45h15c6.23 0 11.58-3.82 13.84-9.24l-4.83-17.72c-2.51-1.9-5.63-3.04-9.01-3.04-24.51 0-46.31-11.82-60-30.05-9.42-12.54-15-28.1-15-44.95v-45.56c4.96-.3 9.96-.44 15-.44 141.57 0 256 114.39 256 256z"
							fill="#bce339"
						/>
						<path
							d="m512 256c0 14.923-1.274 29.887-3.93 45h-132.07c-24.81 0-45-20.19-45-45 0-8.27-6.73-15-15-15h-15c-24.81 0-45-20.19-45-45s20.19-45 45-45h15c6.23 0 11.58-3.82 13.84-9.24l-4.83-17.72c-2.51-1.9-5.63-3.04-9.01-3.04-24.51 0-46.31-11.82-60-30.05v-90.95c141.57 0 256 114.39 256 256z"
							fill="#8dbc42"
						/>
						<path
							d="m211 136c0 24.81-20.19 45-45 45h-154.87c17.872-58.843 57.785-111.877 114.52-145.47 15.32 7.45 25.35 23.23 25.35 40.47 0 8.27 6.73 15 15 15 24.81 0 45 20.19 45 45z"
							fill="#bce339"
						/>
					</svg>
					<svg
						v-if="room.name === 'Spain'"
						class="h-4 w-4 mr-2 ml-2 my-2"
						version="1.1"
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						viewBox="0 0 512 512"
						enable-background="new 0 0 512 512"
						xml:space="preserve"
					>
						<path
							style="fill: #ffda44"
							d="M0,256c0,31.314,5.633,61.31,15.923,89.043L256,367.304l240.077-22.261  C506.367,317.31,512,287.314,512,256s-5.633-61.31-15.923-89.043L256,144.696L15.923,166.957C5.633,194.69,0,224.686,0,256z"
						/>
						<g>
							<path
								style="fill: #d80027"
								d="M496.077,166.957C459.906,69.473,366.071,0,256,0S52.094,69.473,15.923,166.957H496.077z"
							/>
							<path
								style="fill: #d80027"
								d="M15.923,345.043C52.094,442.527,145.929,512,256,512s203.906-69.473,240.077-166.957H15.923z"
							/>
						</g>
					</svg>
					<svg
						v-if="room.name === 'UK'"
						class="h-4 w-4 mr-2 ml-2 my-2"
						version="1.1"
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						viewBox="0 0 512 512"
						style="enable-background: new 0 0 512 512"
					>
						<circle style="fill: #f0f0f0" cx="256" cy="256" r="256" />
						<g>
							<path
								style="fill: #0052b4"
								d="M52.92,100.142c-20.109,26.163-35.272,56.318-44.101,89.077h133.178L52.92,100.142z"
							/>
							<path
								style="fill: #0052b4"
								d="M503.181,189.219c-8.829-32.758-23.993-62.913-44.101-89.076l-89.075,89.076H503.181z"
							/>
							<path
								style="fill: #0052b4"
								d="M8.819,322.784c8.83,32.758,23.993,62.913,44.101,89.075l89.074-89.075L8.819,322.784L8.819,322.784
                z"
							/>
							<path
								style="fill: #0052b4"
								d="M411.858,52.921c-26.163-20.109-56.317-35.272-89.076-44.102v133.177L411.858,52.921z"
							/>
							<path
								style="fill: #0052b4"
								d="M100.142,459.079c26.163,20.109,56.318,35.272,89.076,44.102V370.005L100.142,459.079z"
							/>
							<path
								style="fill: #0052b4"
								d="M189.217,8.819c-32.758,8.83-62.913,23.993-89.075,44.101l89.075,89.075V8.819z"
							/>
							<path
								style="fill: #0052b4"
								d="M322.783,503.181c32.758-8.83,62.913-23.993,89.075-44.101l-89.075-89.075V503.181z"
							/>
							<path
								style="fill: #0052b4"
								d="M370.005,322.784l89.075,89.076c20.108-26.162,35.272-56.318,44.101-89.076H370.005z"
							/>
						</g>
						<g>
							<path
								style="fill: #d80027"
								d="M509.833,222.609h-220.44h-0.001V2.167C278.461,0.744,267.317,0,256,0
                c-11.319,0-22.461,0.744-33.391,2.167v220.44v0.001H2.167C0.744,233.539,0,244.683,0,256c0,11.319,0.744,22.461,2.167,33.391
                h220.44h0.001v220.442C233.539,511.256,244.681,512,256,512c11.317,0,22.461-0.743,33.391-2.167v-220.44v-0.001h220.442
                C511.256,278.461,512,267.319,512,256C512,244.683,511.256,233.539,509.833,222.609z"
							/>
							<path
								style="fill: #d80027"
								d="M322.783,322.784L322.783,322.784L437.019,437.02c5.254-5.252,10.266-10.743,15.048-16.435
                l-97.802-97.802h-31.482V322.784z"
							/>
							<path
								style="fill: #d80027"
								d="M189.217,322.784h-0.002L74.98,437.019c5.252,5.254,10.743,10.266,16.435,15.048l97.802-97.804
                V322.784z"
							/>
							<path
								style="fill: #d80027"
								d="M189.217,189.219v-0.002L74.981,74.98c-5.254,5.252-10.266,10.743-15.048,16.435l97.803,97.803
                H189.217z"
							/>
							<path
								style="fill: #d80027"
								d="M322.783,189.219L322.783,189.219L437.02,74.981c-5.252-5.254-10.743-10.266-16.435-15.047
                l-97.802,97.803V189.219z"
							/>
						</g>
					</svg>
					{{ room.name }} room
				</button>
			</template>
		</Dropdown>
		<Dropdown>
			<template v-slot:button>
				<div class="flex flex-row items-center">
					<svg
						v-if="selectedLang === 'esperanto?'"
						class="h-4 w-4 mr-2"
						enable-background="new 0 0 512 512"
						viewBox="0 0 512 512"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="m508.07 301c-21.2 120.05-125.82 211-252.07 211-5.04 0-10.04-.14-15-.44l-15-19.02v-56.54c0-16.54 13.46-30 30-30s30-13.46 30-30-13.46-30-30-30h-81.16l-13.2-57.21 13.27-4.14c12.62-3.93 21.09-15.45 21.09-28.65 0-16.54-13.46-30-30-30h-150.24l-11.83-15c1.8-10.23 4.22-20.24 7.2-30l11.81-15h143.06c16.54 0 30-13.46 30-30s-13.46-30-30-30-30-13.46-30-30c0-11.39-6.64-21.98-16.91-26.98l6.56-13.49c34.12-20.19 73.36-32.68 115.35-35.09l15 45.56c0 33.08 26.92 60 60 60 6.56 0 12.81 2.1 18.06 6.08l4.08 3.09 7.53 27.61-1.99 4.75c-4.67 11.22-15.54 18.47-27.68 18.47h-30c-16.54 0-30 13.46-30 30s13.46 30 30 30h30c16.54 0 30 13.46 30 30s13.46 30 30 30z"
							fill="#4bb9ec"
						/>
						<path
							d="m256 196v-150c0 33.08 26.92 60 60 60 6.56 0 12.81 2.1 18.06 6.08l4.08 3.09 7.53 27.61-1.99 4.75c-4.67 11.22-15.54 18.47-27.68 18.47h-30c-16.54 0-30 13.46-30 30z"
							fill="#0095ff"
						/>
						<path
							d="m508.07 301c-21.2 120.05-125.82 211-252.07 211v-106c16.54 0 30-13.46 30-30s-13.46-30-30-30v-150c0 16.54 13.46 30 30 30h30c16.54 0 30 13.46 30 30s13.46 30 30 30z"
							fill="#0095ff"
						/>
						<path
							d="m382.213 391h-36.213v-30h23.787l25.607-25.607 21.212 21.214z"
							fill="#8dbc42"
						/>
						<path d="m301 301h30v30h-30z" fill="#8dbc42" />
						<path
							d="m301 376c0 24.81-20.19 45-45 45-8.27 0-15 6.73-15 15v75.56c-134.015-7.712-241-118.433-241-255.56 0-14.923 1.274-29.887 3.93-45h162.07c24.81 0 45 20.19 45 45 0 20.16-13.32 37.26-31.62 42.97l7.39 32.03h69.23c24.81 0 45 20.19 45 45z"
							fill="#bce339"
						/>
						<path
							d="m301 376c0 24.81-20.19 45-45 45v-90c24.81 0 45 20.19 45 45z"
							fill="#8dbc42"
						/>
						<path
							d="m512 256c0 14.923-1.274 29.887-3.93 45h-132.07c-24.81 0-45-20.19-45-45 0-8.27-6.73-15-15-15h-15c-24.81 0-45-20.19-45-45s20.19-45 45-45h15c6.23 0 11.58-3.82 13.84-9.24l-4.83-17.72c-2.51-1.9-5.63-3.04-9.01-3.04-24.51 0-46.31-11.82-60-30.05-9.42-12.54-15-28.1-15-44.95v-45.56c4.96-.3 9.96-.44 15-.44 141.57 0 256 114.39 256 256z"
							fill="#bce339"
						/>
						<path
							d="m512 256c0 14.923-1.274 29.887-3.93 45h-132.07c-24.81 0-45-20.19-45-45 0-8.27-6.73-15-15-15h-15c-24.81 0-45-20.19-45-45s20.19-45 45-45h15c6.23 0 11.58-3.82 13.84-9.24l-4.83-17.72c-2.51-1.9-5.63-3.04-9.01-3.04-24.51 0-46.31-11.82-60-30.05v-90.95c141.57 0 256 114.39 256 256z"
							fill="#8dbc42"
						/>
						<path
							d="m211 136c0 24.81-20.19 45-45 45h-154.87c17.872-58.843 57.785-111.877 114.52-145.47 15.32 7.45 25.35 23.23 25.35 40.47 0 8.27 6.73 15 15 15 24.81 0 45 20.19 45 45z"
							fill="#bce339"
						/>
					</svg>
					<svg
						v-if="selectedLang === 'ES'"
						class="h-4 w-4 mr-2"
						version="1.1"
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						viewBox="0 0 512 512"
						enable-background="new 0 0 512 512"
						xml:space="preserve"
					>
						<path
							style="fill: #ffda44"
							d="M0,256c0,31.314,5.633,61.31,15.923,89.043L256,367.304l240.077-22.261  C506.367,317.31,512,287.314,512,256s-5.633-61.31-15.923-89.043L256,144.696L15.923,166.957C5.633,194.69,0,224.686,0,256z"
						/>
						<g>
							<path
								style="fill: #d80027"
								d="M496.077,166.957C459.906,69.473,366.071,0,256,0S52.094,69.473,15.923,166.957H496.077z"
							/>
							<path
								style="fill: #d80027"
								d="M15.923,345.043C52.094,442.527,145.929,512,256,512s203.906-69.473,240.077-166.957H15.923z"
							/>
						</g>
					</svg>
					<svg
						v-if="selectedLang === 'EN'"
						class="h-4 w-4 mr-2"
						version="1.1"
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						viewBox="0 0 512 512"
						style="enable-background: new 0 0 512 512"
					>
						<circle style="fill: #f0f0f0" cx="256" cy="256" r="256" />
						<g>
							<path
								style="fill: #0052b4"
								d="M52.92,100.142c-20.109,26.163-35.272,56.318-44.101,89.077h133.178L52.92,100.142z"
							/>
							<path
								style="fill: #0052b4"
								d="M503.181,189.219c-8.829-32.758-23.993-62.913-44.101-89.076l-89.075,89.076H503.181z"
							/>
							<path
								style="fill: #0052b4"
								d="M8.819,322.784c8.83,32.758,23.993,62.913,44.101,89.075l89.074-89.075L8.819,322.784L8.819,322.784
                z"
							/>
							<path
								style="fill: #0052b4"
								d="M411.858,52.921c-26.163-20.109-56.317-35.272-89.076-44.102v133.177L411.858,52.921z"
							/>
							<path
								style="fill: #0052b4"
								d="M100.142,459.079c26.163,20.109,56.318,35.272,89.076,44.102V370.005L100.142,459.079z"
							/>
							<path
								style="fill: #0052b4"
								d="M189.217,8.819c-32.758,8.83-62.913,23.993-89.075,44.101l89.075,89.075V8.819z"
							/>
							<path
								style="fill: #0052b4"
								d="M322.783,503.181c32.758-8.83,62.913-23.993,89.075-44.101l-89.075-89.075V503.181z"
							/>
							<path
								style="fill: #0052b4"
								d="M370.005,322.784l89.075,89.076c20.108-26.162,35.272-56.318,44.101-89.076H370.005z"
							/>
						</g>
						<g>
							<path
								style="fill: #d80027"
								d="M509.833,222.609h-220.44h-0.001V2.167C278.461,0.744,267.317,0,256,0
                c-11.319,0-22.461,0.744-33.391,2.167v220.44v0.001H2.167C0.744,233.539,0,244.683,0,256c0,11.319,0.744,22.461,2.167,33.391
                h220.44h0.001v220.442C233.539,511.256,244.681,512,256,512c11.317,0,22.461-0.743,33.391-2.167v-220.44v-0.001h220.442
                C511.256,278.461,512,267.319,512,256C512,244.683,511.256,233.539,509.833,222.609z"
							/>
							<path
								style="fill: #d80027"
								d="M322.783,322.784L322.783,322.784L437.019,437.02c5.254-5.252,10.266-10.743,15.048-16.435
                l-97.802-97.802h-31.482V322.784z"
							/>
							<path
								style="fill: #d80027"
								d="M189.217,322.784h-0.002L74.98,437.019c5.252,5.254,10.743,10.266,16.435,15.048l97.802-97.804
                V322.784z"
							/>
							<path
								style="fill: #d80027"
								d="M189.217,189.219v-0.002L74.981,74.98c-5.254,5.252-10.266,10.743-15.048,16.435l97.803,97.803
                H189.217z"
							/>
							<path
								style="fill: #d80027"
								d="M322.783,189.219L322.783,189.219L437.02,74.981c-5.252-5.254-10.743-10.266-16.435-15.047
                l-97.802,97.803V189.219z"
							/>
						</g>
					</svg>
					{{ selectedLang }}
				</div>
			</template>
			<template v-slot:content>
				<button
					v-for="lang in languages"
					:key="lang.name"
					@click="changeLang(lang)"
					class="p-0.5 flex flex-row items-center w-full hover:bg-blue-400 rounded"
				>
					<svg
						v-if="lang.code === 'ES'"
						class="h-5 w-5 mr-1"
						version="1.1"
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						viewBox="0 0 512 512"
						enable-background="new 0 0 512 512"
						xml:space="preserve"
					>
						<path
							style="fill: #ffda44"
							d="M0,256c0,31.314,5.633,61.31,15.923,89.043L256,367.304l240.077-22.261  C506.367,317.31,512,287.314,512,256s-5.633-61.31-15.923-89.043L256,144.696L15.923,166.957C5.633,194.69,0,224.686,0,256z"
						/>
						<g>
							<path
								style="fill: #d80027"
								d="M496.077,166.957C459.906,69.473,366.071,0,256,0S52.094,69.473,15.923,166.957H496.077z"
							/>
							<path
								style="fill: #d80027"
								d="M15.923,345.043C52.094,442.527,145.929,512,256,512s203.906-69.473,240.077-166.957H15.923z"
							/>
						</g>
					</svg>
					<svg
						v-if="lang.code === 'EN'"
						class="h-4 w-4 mr-1"
						version="1.1"
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						viewBox="0 0 512 512"
						style="enable-background: new 0 0 512 512"
					>
						<circle style="fill: #f0f0f0" cx="256" cy="256" r="256" />
						<g>
							<path
								style="fill: #0052b4"
								d="M52.92,100.142c-20.109,26.163-35.272,56.318-44.101,89.077h133.178L52.92,100.142z"
							/>
							<path
								style="fill: #0052b4"
								d="M503.181,189.219c-8.829-32.758-23.993-62.913-44.101-89.076l-89.075,89.076H503.181z"
							/>
							<path
								style="fill: #0052b4"
								d="M8.819,322.784c8.83,32.758,23.993,62.913,44.101,89.075l89.074-89.075L8.819,322.784L8.819,322.784
                z"
							/>
							<path
								style="fill: #0052b4"
								d="M411.858,52.921c-26.163-20.109-56.317-35.272-89.076-44.102v133.177L411.858,52.921z"
							/>
							<path
								style="fill: #0052b4"
								d="M100.142,459.079c26.163,20.109,56.318,35.272,89.076,44.102V370.005L100.142,459.079z"
							/>
							<path
								style="fill: #0052b4"
								d="M189.217,8.819c-32.758,8.83-62.913,23.993-89.075,44.101l89.075,89.075V8.819z"
							/>
							<path
								style="fill: #0052b4"
								d="M322.783,503.181c32.758-8.83,62.913-23.993,89.075-44.101l-89.075-89.075V503.181z"
							/>
							<path
								style="fill: #0052b4"
								d="M370.005,322.784l89.075,89.076c20.108-26.162,35.272-56.318,44.101-89.076H370.005z"
							/>
						</g>
						<g>
							<path
								style="fill: #d80027"
								d="M509.833,222.609h-220.44h-0.001V2.167C278.461,0.744,267.317,0,256,0
                c-11.319,0-22.461,0.744-33.391,2.167v220.44v0.001H2.167C0.744,233.539,0,244.683,0,256c0,11.319,0.744,22.461,2.167,33.391
                h220.44h0.001v220.442C233.539,511.256,244.681,512,256,512c11.317,0,22.461-0.743,33.391-2.167v-220.44v-0.001h220.442
                C511.256,278.461,512,267.319,512,256C512,244.683,511.256,233.539,509.833,222.609z"
							/>
							<path
								style="fill: #d80027"
								d="M322.783,322.784L322.783,322.784L437.019,437.02c5.254-5.252,10.266-10.743,15.048-16.435
                l-97.802-97.802h-31.482V322.784z"
							/>
							<path
								style="fill: #d80027"
								d="M189.217,322.784h-0.002L74.98,437.019c5.252,5.254,10.743,10.266,16.435,15.048l97.802-97.804
                V322.784z"
							/>
							<path
								style="fill: #d80027"
								d="M189.217,189.219v-0.002L74.981,74.98c-5.254,5.252-10.266,10.743-15.048,16.435l97.803,97.803
                H189.217z"
							/>
							<path
								style="fill: #d80027"
								d="M322.783,189.219L322.783,189.219L437.02,74.981c-5.252-5.254-10.743-10.266-16.435-15.047
                l-97.802,97.803V189.219z"
							/>
						</g>
					</svg>
					{{ lang.code }}
				</button>
			</template>
		</Dropdown>
		<div class="mb-1">
			<div class="ml-0.5 relative">
				<input
					@mouseover="showLanguageCheckboxTooltip = true"
					@mouseleave="showLanguageCheckboxTooltip = false"
					type="checkbox"
					class="rounded-md border border-gray-400"
				/>
				<div
					v-if="showLanguageCheckboxTooltip"
					class="absolute right-4 rounded-lg rounded-tr-none bg-gray-800 bg-opacity-80 px-2 py-1"
				>
					Translate interface
				</div>
			</div>
		</div>
	</div>
</template>

<script>
import Dropdown from './Dropdown.vue';

export default {
	name: 'Navbar',
	components: { Dropdown },
	emits: ['roomChanged', 'langChanged'],
	data() {
		return {
			searchRegex: '',
			rooms: [
				{
					name: 'World',
					// svg: someway make multi-line string, or maybe external file
				},
				{
					name: 'Spain',
				},
				{
					name: 'UK',
				},
			],
			selectedRoom: {
				name: 'World',
			},
			languages: [
				{
					code: 'EN',
					name: 'English',
				},
				{
					code: 'ES',
					name: 'Spanish',
				},
			],
			selectedLang: 'EN',
			showLanguageCheckboxTooltip: false,
		};
	},
	computed: {
		regexPattern() {
			console.log(`Updating regexPattern to /${this.searchRegex}/gi`);
			return new RegExp(this.searchRegex, 'gi');
		},
		filteredRooms() {
			return this.rooms.filter((room) => this.regexPattern.test(room.name));
		},
	},
	methods: {
		changeRoom: function (room) {
			console.log(
				`Changing from room ${this.selectedRoom.name} to ${
					room.name
				}: are same? ${this.selectedRoom.name !== room.name}`
			);
			if (this.selectedRoom.name !== room.name) this.$emit('roomChanged', room);
			this.selectedRoom = room;
		},
		changeLang: function (lang) {
			console.log(
				`Changing from language ${this.selectedLang} to ${
					lang.code
				}: are different? ${this.selectedLang !== lang.code}`
			);
			if (this.selectedLang !== lang.code) this.$emit('langChanged', lang);
			this.selectedLang = lang.code;
		},
	},
	mounted() {
		console.log(
			`Mounted Navbar with 3 rooms: ${this.rooms[0].name}, ${this.rooms[1].name} and ${this.rooms[2].name}`
		);
		console.log(`The selected room is ${this.selectedRoom.name}`);
	},
};
</script>

<style></style>
